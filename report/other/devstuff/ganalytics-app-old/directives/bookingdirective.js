var app = angular.module('ganalytics');
    app.directive('bookingDirective', bookingDirective);

    function bookingDirective(bookingService) {
      return {
        restrict: 'A',
        link: function (scope, ielement, attributes) {
          var event = new Event('DOMContentLoaded');
          console.log(event);
        var myElement = document.getElementById('booking');

        console.log(myElement);
        var dispatch =  myElement.dispatchEvent;
        console.log(bookingService.zapla);
        bookingService.zapla(dispatch, event);
        }
      };
      // $scope.startBookingService = function () {
      //
      // };
    }

    app.factory('bookingService', bookingService);

    function bookingService() {
      return {
        zapla: function(dispatchfn, e) {
          dispatchfn(e);
          console.log(dispatchfn);
          dispatchfn.isTrusted = true;
          console.log(dispatchfn);
          !function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){"use strict";var n=o(130),r=o(228),i=o(127),a=o(160),s=o(128),h=o(43),c=12,l="https://embed.zapla.co",f="e5f9776";if(!window.postMessage||!window.JSON)throw new Error("This browser is not supported by the Zapla widget.");var u="string"==typeof(new XMLHttpRequest).responseType,p=function(t){if(!t)return!1;for(var e=t.split(","),o=0,n=e.length;n>o;o++)e[o]=parseInt(e[o].replace(/[^\d]*/,""),10);return e[0]&&e[1]&&e[2]?{R:e[0],G:e[1],B:e[2]}:!1},d=function(t,e){var o=p(t),n=p(e);return o&&n?s.diff(s.rgb_to_lab(o),s.rgb_to_lab(n))<15:!1},b=function(t){var e="";for(var o in t)t.hasOwnProperty(o)&&t[o]&&(e+=o+":"+t[o]+";");return e},v=function(t,e,o){e.height=o+"px !important",t.setAttribute("style",b(e)),t.height=o+"px"},m=function(t,e,o){for(var n=!0;n;){var r=t,i=e,a=o;n=!1;var s;window.getComputedStyle?s=document.defaultView.getComputedStyle(r,null).getPropertyValue(i):r.currentStyle&&(s=r.currentStyle[i]?r.currentStyle[i]:r.currentStyle[a]);{if(r===document.documentElement||""!==s&&"transparent"!==s&&"rgba(0, 0, 0, 0)"!==s)return s||"";t=r.parentNode,e=i,o=a,n=!0,s=void 0}}},g=function(t,e){if(-1!==e.indexOf("://fonts.googleapis.com"))return void t.contentWindow.postMessage(JSON.stringify({type:"add:link",data:{href:e.replace(/^https?:\/\//,"https://")}}),"*");if(-1!==e.indexOf("://use.typekit.net")){var o=new XMLHttpRequest;return o.open("GET",e,!0),o.onload=function(e){t.contentWindow.postMessage(JSON.stringify({type:"add:stylesheet",data:{css:e.currentTarget.responseText}}),"*")},void o.send()}return-1!==e.indexOf("editmysite.com")&&-1!==e.indexOf("/fonts/")?void t.contentWindow.postMessage(JSON.stringify({type:"add:link",data:{href:e.replace(/^https?:\/\//,"https://")}}),"*"):void 0},y=function(t,e){[].forEach&&[].forEach.call(document.styleSheets||[],function(o){var n=window.location.href.slice(0,-1*window.location.pathname.length);return o.href&&-1===o.href.indexOf(n)?void g(t,o.href):void[].forEach.call(o.cssRules||[],function(n){return n.href&&-1!==n.href.indexOf("//fonts.googleapis.com")?void t.contentWindow.postMessage(JSON.stringify({type:"add:link",data:{href:r.resolve("https://",n.href).replace(/^https?:\/\//,"https://")}}),"*"):void(u&&-1!==n.cssText.indexOf("@font-face")&&n.cssText.match(/url\(.*?\)/g).forEach(function(a){if(a=a.replace(/url\(["|']?(.*?)["|']?\)/,"$1"),a=r.resolve(o.href,a),/\.woff$/.test(a)){var s=!1;for(var h in e)e.hasOwnProperty(h)&&"font-family"in e[h]&&-1===e[h]["font-family"].indexOf(n.style.getPropertyValue("font-family"))&&(s=!0);if(s){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(e){var o=new Uint8Array(e.currentTarget.response),r=["@font-face {","   font-family: "+n.style.getPropertyValue("font-family")+";","   font-style: "+n.style.getPropertyValue("font-style")+";","   font-weight: "+n.style.getPropertyValue("font-weight")+";",'   src: url("data:application/x-font-woff;base64,'+i.fromByteArray(o)+'") format("woff");',"}"].join("\n");t.contentWindow.postMessage(JSON.stringify({type:"add:stylesheet",data:{css:r}}),"*")},c.send()}}}))})})},w=function(t,e){var o="zapla_widget_"+e,n=t.src.split("#")[1].split(","),r=n[0].split("=")[1];if(!t.previousSibling||!t.previousSibling.id||-1===t.previousSibling.id.indexOf("zapla_widget_"+e)){var i=document.createElement("div");i.id=o,t.parentNode.insertBefore(i,t);var s={display:"block !important",width:"100% !important",border:"0 !important",overflow:"hidden !important","max-width":"none !important","max-height":"none !important"},u={".env-a":{},".env-heading":{},".env-p":{},".env-btn":{},".env-input":{},".env-color":{},".env-box":{},".env-box-p":{},".env-box-a":{},".env-border-radius":{},".env-font":{},".env-font-size":{}},p=document.createElement("h2");p.setAttribute("style","display: none !important;"),p.className="h2",i.appendChild(p),u[".env-heading"].color=m(p,"color","color"),u[".env-heading"]["font-family"]=m(p,"font-family","fontFamily"),u[".env-heading"]["font-size"]=m(p,"font-size","fontSize"),u[".env-heading"]["font-style"]=m(p,"font-style","fontSize"),u[".env-heading"]["font-weight"]=m(p,"font-weight","fontWeight"),u[".env-heading"]["letter-spacing"]=m(p,"letter-spacing","letterSpacing"),u[".env-heading"]["text-decoration"]=m(p,"text-decoration","textDecoration"),u[".env-heading"]["text-transform"]=m(p,"text-transform","textTransform"),u[".env-heading"]["-webkit-font-smoothing"]=m(p,"-webkit-font-smoothing","webkitFontSmoothing"),u[".env-heading"]["-moz-osx-font-smoothing"]=m(p,"-moz-osx-font-smoothing","mozOsxFontSmoothing"),u[".env-heading"]["-webkit-backface-visibility"]=m(p,"-webkit-backface-visibility","webkitBackfaceVisibility"),parseInt(u[".env-heading"]["font-size"],10)<=c&&(u[".env-heading"]["font-size"]=c+"px"),i.removeChild(p);var w=document.createElement("p");w.setAttribute("style","display: none !important;"),i.appendChild(w),u[".env-p"].color=m(w,"color","color"),u[".env-p"]["font-family"]=m(w,"font-family","fontFamily"),u[".env-p"]["font-size"]=m(w,"font-size","fontSize"),u[".env-p"]["font-style"]=m(w,"font-style","fontSize"),u[".env-p"]["font-weight"]=m(w,"font-weight","fontWeight"),u[".env-p"]["letter-spacing"]=m(w,"letter-spacing","letterSpacing"),u[".env-p"]["text-decoration"]=m(w,"text-decoration","textDecoration"),u[".env-p"]["text-transform"]=m(w,"text-transform","textTransform"),u[".env-p"]["line-height"]=m(w,"line-height","lineHeight"),u[".env-p"]["-webkit-font-smoothing"]=m(w,"-webkit-font-smoothing","webkitFontSmoothing"),u[".env-p"]["-moz-osx-font-smoothing"]=m(w,"-moz-osx-font-smoothing","mozOsxFontSmoothing"),u[".env-p"]["-webkit-backface-visibility"]=m(w,"-webkit-backface-visibility","webkitBackfaceVisibility"),parseInt(u[".env-p"]["font-size"],10)<=c&&(u[".env-p"]["font-size"]=c+"px"),u[".env-color"].color=u[".env-p"].color,u[".env-color"]["font-family"]=u[".env-p"]["font-family"],u[".env-color"]["font-style"]=u[".env-p"]["font-style"],u[".env-color"]["font-weight"]=u[".env-p"]["font-weight"],u[".env-font"]["font-family"]=u[".env-p"]["font-family"],u[".env-font"]["font-style"]=u[".env-p"]["font-style"],u[".env-font"]["font-weight"]=u[".env-p"]["font-weight"],u[".env-font"]["letter-spacing"]=u[".env-p"]["letter-spacing"],u[".env-font"]["text-decoration"]=u[".env-p"]["text-decoration"],u[".env-font"]["text-transform"]=u[".env-p"]["text-transform"],u[".env-font"]["-webkit-font-smoothing"]=u[".env-p"]["-webkit-font-smoothing"],u[".env-font"]["-moz-osx-font-smoothing"]=u[".env-p"]["-moz-osx-font-smoothing"],u[".env-font"]["-webkit-backface-visibility"]=u[".env-p"]["-webkit-backface-visibility"],u[".env-font-size"]["font-size"]=u[".env-p"]["font-size"],i.removeChild(w);var x=document.createElement("a");x.setAttribute("style","display: none !important;"),i.appendChild(x),u[".env-a"].color=m(x,"color","color"),u[".env-a"]["font-weight"]=m(x,"font-weight","fontWeight"),u[".env-a"]["letter-spacing"]=m(x,"letter-spacing","letterSpacing"),u[".env-a"]["text-decoration"]=m(x,"text-decoration","textDecoration"),u[".env-a"]["text-transform"]=m(x,"text-transform","textTransform"),d(u[".env-a"].color,m(x,"background-color","backgroundColor"))&&(u[".env-a"].color=u[".env-p"].color),i.removeChild(x);var k=document.createElement("div");k.className="page",i.appendChild(k);var A=document.createElement("div");A.className="form-wrapper elgg-form",k.appendChild(A);var C=document.createElement("div");C.className="field-list",A.appendChild(C);var z=document.createElement("div");z.className="field",C.appendChild(z);var S=document.createElement("input");S.type="text",S.className="form-control field-element input-text wsite-form-input wpcf7-text",S.setAttribute("style","display: none !important;"),z.appendChild(S),u[".env-input"].color=m(S,"color","color"),u[".env-input"]["background-color"]=m(S,"background-color","backgroundColor"),u[".env-input"]["background-image"]=m(S,"background-image","backgroundImage"),u[".env-input"]["background-repeat"]=m(S,"background-repeat","backgroundRepeat"),u[".env-input"]["background-position"]=m(S,"background-position","backgroundPosition"),u[".env-input"]["background-size"]=m(S,"background-size","backgroundSize"),u[".env-input"]["font-family"]=m(S,"font-family","fontFamily"),u[".env-input"]["font-size"]=m(S,"font-size","fontSize"),u[".env-input"]["font-style"]=m(S,"font-style","fontSize"),u[".env-input"]["font-weight"]=m(S,"font-weight","fontWeight"),u[".env-input"]["letter-spacing"]=m(S,"letter-spacing","letterSpacing"),u[".env-input"]["text-decoration"]=m(S,"text-decoration","textDecoration"),u[".env-input"]["text-transform"]=m(S,"text-transform","textTransform"),u[".env-input"]["border-top-width"]=m(S,"border-top-width","borderTopWidth"),u[".env-input"]["border-top-style"]=m(S,"border-top-style","borderTopStyle"),u[".env-input"]["border-top-color"]=m(S,"border-top-color","borderTopColor"),u[".env-input"]["border-right-width"]=m(S,"border-right-width","borderRightWidth"),u[".env-input"]["border-right-style"]=m(S,"border-right-style","borderRightStyle"),u[".env-input"]["border-right-color"]=m(S,"border-right-color","borderRightColor"),u[".env-input"]["border-bottom-width"]=m(S,"border-bottom-width","borderBottomWidth"),u[".env-input"]["border-bottom-style"]=m(S,"border-bottom-style","borderBottomStyle"),u[".env-input"]["border-bottom-color"]=m(S,"border-bottom-color","borderBottomColor"),u[".env-input"]["border-left-width"]=m(S,"border-left-width","borderLeftWidth"),u[".env-input"]["border-left-style"]=m(S,"border-left-style","borderLeftStyle"),u[".env-input"]["border-left-color"]=m(S,"border-left-color","borderLeftColor"),u[".env-input"]["border-top-left-radius"]=m(S,"border-top-left-radius","borderTopLeftRadius"),u[".env-input"]["border-top-right-radius"]=m(S,"border-top-right-radius","borderTopRightRadius"),u[".env-input"]["border-bottom-right-radius"]=m(S,"border-bottom-right-radius","borderBottomRightRadius"),u[".env-input"]["border-bottom-left-radius"]=m(S,"border-bottom-left-radius","borderBottomLeftRadius"),u[".env-input"]["box-shadow"]=m(S,"box-shadow","boxShadow"),u[".env-input"]["-webkit-font-smoothing"]=m(S,"-webkit-font-smoothing","webkitFontSmoothing"),u[".env-input"]["-moz-osx-font-smoothing"]=m(S,"-moz-osx-font-smoothing","mozOsxFontSmoothing"),u[".env-input"]["-webkit-backface-visibility"]=m(S,"-webkit-backface-visibility","webkitBackfaceVisibility"),parseInt(u[".env-input"]["font-size"],10)<=c&&(u[".env-input"]["font-size"]=c+"px"),u[".env-box"]["background-color"]=u[".env-input"]["background-color"],u[".env-box"]["background-image"]=u[".env-input"]["background-image"],u[".env-box"]["background-repeat"]=u[".env-input"]["background-repeat"],u[".env-box"]["background-position"]=u[".env-input"]["background-position"],u[".env-box"]["background-size"]=u[".env-input"]["background-size"],u[".env-box"]["border-top-width"]=u[".env-input"]["border-top-width"],u[".env-box"]["border-top-style"]=u[".env-input"]["border-top-style"],u[".env-box"]["border-top-color"]=u[".env-input"]["border-top-color"],u[".env-box"]["border-right-width"]=u[".env-input"]["border-right-width"],u[".env-box"]["border-right-style"]=u[".env-input"]["border-right-style"],u[".env-box"]["border-right-color"]=u[".env-input"]["border-right-color"],u[".env-box"]["border-bottom-width"]=u[".env-input"]["border-bottom-width"],u[".env-box"]["border-bottom-style"]=u[".env-input"]["border-bottom-style"],u[".env-box"]["border-bottom-color"]=u[".env-input"]["border-bottom-color"],u[".env-box"]["border-left-width"]=u[".env-input"]["border-left-width"],u[".env-box"]["border-left-style"]=u[".env-input"]["border-left-style"],u[".env-box"]["border-left-color"]=u[".env-input"]["border-left-color"],u[".env-box"]["border-top-left-radius"]=u[".env-input"]["border-top-left-radius"],u[".env-box"]["border-top-right-radius"]=u[".env-input"]["border-top-right-radius"],u[".env-box"]["border-bottom-right-radius"]=u[".env-input"]["border-bottom-right-radius"],u[".env-box"]["border-bottom-left-radius"]=u[".env-input"]["border-bottom-left-radius"],i.removeChild(k),u[".env-border-radius"]["border-top-left-radius"]=u[".env-input"]["border-top-left-radius"],u[".env-border-radius"]["border-top-right-radius"]=u[".env-input"]["border-top-right-radius"],u[".env-border-radius"]["border-bottom-right-radius"]=u[".env-input"]["border-bottom-right-radius"],u[".env-border-radius"]["border-bottom-left-radius"]=u[".env-input"]["border-bottom-left-radius"],u[".env-box-p"].color=u[".env-p"].color,u[".env-box-p"]["font-family"]=u[".env-p"]["font-family"],u[".env-box-p"]["font-size"]=u[".env-p"]["font-size"],u[".env-box-p"]["font-style"]=u[".env-p"]["font-style"],u[".env-box-p"]["font-weight"]=u[".env-p"]["font-weight"],u[".env-box-p"]["letter-spacing"]=u[".env-p"]["letter-spacing"],u[".env-box-p"]["text-decoration"]=u[".env-p"]["text-decoration"],u[".env-box-p"]["text-transform"]=u[".env-p"]["text-transform"],u[".env-box-p"]["line-height"]=u[".env-p"]["line-height"],u[".env-box-p"]["-webkit-font-smoothing"]=u[".env-p"]["-webkit-font-smoothing"],u[".env-box-p"]["-moz-osx-font-smoothing"]=u[".env-p"]["-moz-osx-font-smoothing"],u[".env-box-p"]["-webkit-backface-visibility"]=u[".env-p"]["-webkit-backface-visibility"],d(u[".env-box-p"].color,u[".env-box"]["background-color"])&&(u[".env-box-p"].color=u[".env-input"].color),u[".env-box-a"].color=u[".env-a"].color,u[".env-box-a"]["font-weight"]=u[".env-a"]["font-weight"],d(u[".env-box-a"].color,u[".env-box"]["background-color"])&&(u[".env-box-a"].color=u[".env-input"].color);var A=document.createElement("div");A.className="wsite-button form-wrapper",i.appendChild(A);var O=document.createElement("input");O.type="submit",O.className="btn btn-primary button wsite-button-inner wpcf7-submit sqs-editable-button elgg-button",O.setAttribute("style","display: none !important;"),A.appendChild(O),u[".env-btn"].color=m(O,"color","color"),u[".env-btn"]["background-color"]=m(O,"background-color","backgroundColor"),u[".env-btn"]["background-image"]=m(O,"background-image","backgroundImage"),u[".env-btn"]["background-repeat"]=m(O,"background-repeat","backgroundRepeat"),u[".env-btn"]["background-position"]=m(O,"background-position","backgroundPosition"),u[".env-btn"]["background-size"]=m(O,"background-size","backgroundSize"),u[".env-btn"]["font-family"]=m(O,"font-family","fontFamily"),u[".env-btn"]["font-size"]=m(O,"font-size","fontSize"),u[".env-btn"]["font-style"]=m(O,"font-style","fontSize"),u[".env-btn"]["font-weight"]=m(O,"font-weight","fontWeight"),u[".env-btn"]["letter-spacing"]=m(O,"letter-spacing","letterSpacing"),u[".env-btn"]["text-decoration"]=m(O,"text-decoration","textDecoration"),u[".env-btn"]["text-transform"]=m(O,"text-transform","textTransform"),u[".env-btn"]["border-top-width"]=m(O,"border-top-width","borderTopWidth"),u[".env-btn"]["border-top-style"]=m(O,"border-top-style","borderTopStyle"),u[".env-btn"]["border-top-color"]=m(O,"border-top-color","borderTopColor"),u[".env-btn"]["border-right-width"]=m(O,"border-right-width","borderRightWidth"),u[".env-btn"]["border-right-style"]=m(O,"border-right-style","borderRightStyle"),u[".env-btn"]["border-right-color"]=m(O,"border-right-color","borderRightColor"),u[".env-btn"]["border-bottom-width"]=m(O,"border-bottom-width","borderBottomWidth"),u[".env-btn"]["border-bottom-style"]=m(O,"border-bottom-style","borderBottomStyle"),u[".env-btn"]["border-bottom-color"]=m(O,"border-bottom-color","borderBottomColor"),u[".env-btn"]["border-left-width"]=m(O,"border-left-width","borderLeftWidth"),u[".env-btn"]["border-left-style"]=m(O,"border-left-style","borderLeftStyle"),u[".env-btn"]["border-left-color"]=m(O,"border-left-color","borderLeftColor"),u[".env-btn"]["border-top-left-radius"]=m(O,"border-top-left-radius","borderTopLeftRadius"),u[".env-btn"]["border-top-right-radius"]=m(O,"border-top-right-radius","borderTopRightRadius"),u[".env-btn"]["border-bottom-right-radius"]=m(O,"border-bottom-right-radius","borderBottomRightRadius"),u[".env-btn"]["border-bottom-left-radius"]=m(O,"border-bottom-left-radius","borderBottomLeftRadius"),u[".env-btn"]["box-shadow"]=m(O,"box-shadow","boxShadow"),u[".env-btn"]["-webkit-font-smoothing"]=m(O,"-webkit-font-smoothing","webkitFontSmoothing"),u[".env-btn"]["-moz-osx-font-smoothing"]=m(O,"-moz-osx-font-smoothing","mozOsxFontSmoothing"),u[".env-btn"]["-webkit-backface-visibility"]=m(O,"-webkit-backface-visibility","webkitBackfaceVisibility"),d(u[".env-btn"]["background-color"],u[".env-btn"].color)&&delete u[".env-btn"]["background-color"],i.removeChild(A);var E="";for(var R in u)u.hasOwnProperty(R)&&(E+=R+"{"+b(u[R])+"}");var T=document.createElement("iframe");T.src=l+"/widget.html?"+f,T.frameBorder=0,T.scrolling="no",T.tabIndex=0,T.width="100%",T.setAttribute("allowTransparency","true"),T.setAttribute("verticalscrolling","no"),T.setAttribute("horizontalscrolling","no"),T.setAttribute("style",b(s)),h(T,"load",function(){T.contentWindow.postMessage(JSON.stringify({type:"initialize",data:{accountId:r,referer:window.location.href,userAgent:window.navigator.userAgent}}),"*"),T.contentWindow.postMessage(JSON.stringify({type:"add:stylesheet",data:{css:E}}),"*"),T.contentWindow.postMessage(JSON.stringify({type:"set:width",data:{width:i.offsetWidth||i.clientWidth}}),"*"),y(T,u),h(document.head,"DOMNodeInserted",function(t){"link"===t.target.tagName.toLowerCase()&&t.target.href&&g(T,t.target.href)})}),i.appendChild(T),h(window,"message",function(t){if(-1!==t.origin.indexOf(l)){var e=JSON.parse(t.data);"set:height"===e.type&&v(T,s,e.data.height)}}),h(window,"resize",a(function(){T.contentWindow.postMessage(JSON.stringify({type:"set:width",data:{width:i.offsetWidth||i.clientWidth}}),"*")},100))}};n(function(){var t=[];if(document.querySelectorAll)t=document.querySelectorAll('script[src*="'+l+'/embed.js"]');else for(var e=document.getElementsByTagName("script"),o=0,n=e.length;n>o;o++)e[o].src&&-1!==e[o].src.indexOf(l+"/embed.js")&&t.push(e[o]);for(var r,o=0;r=t[o];o++)w(r,o)})},43:function(t,e){"use strict";t.exports=function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o)}},45:function(t,e){function o(t){return!!t&&"object"==typeof t}function n(t,e){var o=null==t?void 0:t[e];return a(o)?o:void 0}function r(t){return i(t)&&u.call(t)==s}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:r(t)?p.test(l.call(t)):o(t)&&h.test(t)}var s="[object Function]",h=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,f=c.hasOwnProperty,u=c.toString,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},65:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},68:function(t,e){function o(t){return r(n(t))}function n(t){var e=t.R/255,o=t.G/255,n=t.B/255;e>.04045?e=i((e+.055)/1.055,2.4):e/=12.92,o>.04045?o=i((o+.055)/1.055,2.4):o/=12.92,n>.04045?n=i((n+.055)/1.055,2.4):n/=12.92,e*=100,o*=100,n*=100;var r=.4124*e+.3576*o+.1805*n,a=.2126*e+.7152*o+.0722*n,s=.0193*e+.1192*o+.9505*n;return{X:r,Y:a,Z:s}}function r(t){var e=100,o=108.883,n=95.047,r=t.Y/e,a=t.Z/o,s=t.X/n;s=s>.008856?i(s,1/3):7.787*s+16/116,r=r>.008856?i(r,1/3):7.787*r+16/116,a=a>.008856?i(a,1/3):7.787*a+16/116;var h=116*r-16,c=500*(s-r),l=200*(r-a);return{L:h,a:c,b:l}}/**
          	 * @author Markus Ekholm
          	 * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >
          	 * @license Copyright (c) 2012-2015, Markus Ekholm
          	 * All rights reserved.
          	 * Redistribution and use in source and binary forms, with or without
          	 * modification, are permitted provided that the following conditions are met:
          	 *    * Redistributions of source code must retain the above copyright
          	 *      notice, this list of conditions and the following disclaimer.
          	 *    * Redistributions in binary form must reproduce the above copyright
          	 *      notice, this list of conditions and the following disclaimer in the
          	 *      documentation and/or other materials provided with the distribution.
          	 *    * Neither the name of the <organization> nor the
          	 *      names of its contributors may be used to endorse or promote products
          	 *      derived from this software without specific prior written permission.
          	 *
          	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
          	 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
          	 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
          	 * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY
          	 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
          	 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
          	 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
          	 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
          	 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
          	 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
          	 */
          e.rgb_to_lab=o;var i=Math.pow;Math.sqrt},69:function(t,e){function o(t,e){var o=t.L,u=t.a,p=t.b,d=e.L,b=e.a,v=e.b,m=1,g=1,y=1,w=i(a(u,2)+a(p,2)),x=i(a(b,2)+a(v,2)),k=(w+x)/2,A=.5*(1-i(a(k,7)/(a(k,7)+a(25,7)))),C=(1+A)*u,z=(1+A)*b,S=i(a(C,2)+a(p,2)),O=i(a(z,2)+a(v,2)),E=function(t,e){if(0==t&&0==e)return 0;var o=n(h(t,e));return o>=0?o:o+360},R=E(p,C),T=E(v,z),j=d-o,_=O-S,I=function(t,e,o,n){if(t*e==0)return 0;if(l(n-o)<=180)return n-o;if(n-o>180)return n-o-360;if(-180>n-o)return n-o+360;throw new Error},W=I(w,x,R,T),M=2*i(S*O)*c(r(W)/2),L=(o+d)/2,q=(S+O)/2,B=function(t,e,o,n){if(t*e==0)return o+n;if(l(o-n)<=180)return(o+n)/2;if(l(o-n)>180&&360>o+n)return(o+n+360)/2;if(l(o-n)>180&&o+n>=360)return(o+n-360)/2;throw new Error},N=B(w,x,R,T),F=1-.17*s(r(N-30))+.24*s(r(2*N))+.32*s(r(3*N+6))-.2*s(r(4*N-63)),P=30*f(-a((N-275)/25,2)),U=i(a(q,7)/(a(q,7)+a(25,7))),J=1+.015*a(L-50,2)/i(20+a(L-50,2)),V=1+.045*q,D=1+.015*q*F,$=-2*U*c(r(2*P)),G=i(a(j/(J*m),2)+a(_/(V*g),2)+a(M/(D*y),2)+$*(_/(V*g))*(M/(D*y)));return G}function n(t){return t*(180/u)}function r(t){return t*(u/180)}/**
          	 * @author Markus Ekholm
          	 * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >
          	 * @license Copyright (c) 2012-2015, Markus Ekholm
          	 * All rights reserved.
          	 * Redistribution and use in source and binary forms, with or without
          	 * modification, are permitted provided that the following conditions are met:
          	 *    * Redistributions of source code must retain the above copyright
          	 *      notice, this list of conditions and the following disclaimer.
          	 *    * Redistributions in binary form must reproduce the above copyright
          	 *      notice, this list of conditions and the following disclaimer in the
          	 *      documentation and/or other materials provided with the distribution.
          	 *    * Neither the name of the <organization> nor the
          	 *      names of its contributors may be used to endorse or promote products
          	 *      derived from this software without specific prior written permission.
          	 *
          	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
          	 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
          	 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
          	 * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY
          	 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
          	 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
          	 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
          	 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
          	 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
          	 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
          	 */
          e.ciede2000=o;var i=Math.sqrt,a=Math.pow,s=Math.cos,h=Math.atan2,c=Math.sin,l=Math.abs,f=Math.exp,u=Math.PI},127:function(t,e,o){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===f?62:e===s||e===u?63:h>e?-1:h+10>e?e-h+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function o(t){function o(t){c[f++]=t}var n,r,a,s,h,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;h="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new i(3*t.length/4-h),a=h>0?t.length-4:t.length;var f=0;for(n=0,r=0;a>n;n+=4,r+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),o((16711680&s)>>16),o((65280&s)>>8),o(255&s);return 2===h?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,o(255&s)):1===h&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,o(s>>8&255),o(255&s)),c}function r(t){function e(t){return n.charAt(t)}function o(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,i,a,s=t.length%3,h="";for(r=0,a=t.length-s;a>r;r+=3)i=(t[r]<<16)+(t[r+1]<<8)+t[r+2],h+=o(i);switch(s){case 1:i=t[t.length-1],h+=e(i>>2),h+=e(i<<4&63),h+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],h+=e(i>>10),h+=e(i>>4&63),h+=e(i<<2&63),h+="="}return h}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),h="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),u="_".charCodeAt(0);t.toByteArray=o,t.fromByteArray=r}(e)},128:function(t,e,o){"use strict";var n=o(69),r=o(68),i=o(129),a=t.exports={};a.diff=n.ciede2000,a.rgb_to_lab=r.rgb_to_lab,a.map_palette=i.map_palette,a.palette_map_key=i.palette_map_key,a.closest=function(t,e){var o=a.palette_map_key(t),n=a.map_palette([t],e,"closest");return n[o]},a.furthest=function(t,e){var o=a.palette_map_key(t),n=a.map_palette([t],e,"furthest");return n[o]}},129:function(t,e,o){function n(t){return"R"+t.R+"B"+t.B+"G"+t.G}function r(t,e,o){var r={};o=o||"closest";for(var a=0;a<t.length;a+=1){for(var s=t[a],h=void 0,c=void 0,l=0;l<e.length;l+=1){var f=e[l],u=i(s,f);void 0==h||"closest"===o&&c>u?(h=f,c=u):"furthest"===o&&u>c&&(h=f,c=u)}r[n(s)]=h}return r}function i(t,e){return t=s.rgb_to_lab(t),e=s.rgb_to_lab(e),a.ciede2000(t,e)}/**
          	 * @author Markus Ekholm
          	 * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >
          	 * @license Copyright (c) 2012-2015, Markus Ekholm
          	 * All rights reserved.
          	 * Redistribution and use in source and binary forms, with or without
          	 * modification, are permitted provided that the following conditions are met:
          	 *    * Redistributions of source code must retain the above copyright
          	 *      notice, this list of conditions and the following disclaimer.
          	 *    * Redistributions in binary form must reproduce the above copyright
          	 *      notice, this list of conditions and the following disclaimer in the
          	 *      documentation and/or other materials provided with the distribution.
          	 *    * Neither the name of the <organization> nor the
          	 *      names of its contributors may be used to endorse or promote products
          	 *      derived from this software without specific prior written permission.
          	 *
          	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
          	 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
          	 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
          	 * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY
          	 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
          	 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
          	 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
          	 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
          	 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
          	 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
          	 */
          e.map_palette=r,e.palette_map_key=n;var a=o(69),s=o(68)},130:function(t,e,o){/*!
          	  * domready (c) Dustin Diaz 2014 - License MIT
          	  */
          !function(e,o){t.exports=o()}("domready",function(){var t,e=[],o=document,n=o.documentElement.doScroll,r="DOMContentLoaded",i=(n?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);return i||o.addEventListener(r,t=function(){for(o.removeEventListener(r,t),i=1;t=e.shift();)t()}),function(t){i?setTimeout(t,0):e.push(t)}})},160:function(t,e,o){function n(t,e,o){function n(){m&&clearTimeout(m),p&&clearTimeout(p),y=0,p=m=g=void 0}function i(e,o){o&&clearTimeout(o),p=m=g=void 0,e&&(y=c(),d=t.apply(v,u),m||p||(u=v=void 0))}function h(){var t=e-(c()-b);0>=t||t>e?i(g,p):m=setTimeout(h,t)}function l(){i(x,m)}function f(){if(u=arguments,b=c(),v=this,g=x&&(m||!k),w===!1)var o=k&&!m;else{p||k||(y=b);var n=w-(b-y),r=0>=n||n>w;r?(p&&(p=clearTimeout(p)),y=b,d=t.apply(v,u)):p||(p=setTimeout(l,n))}return r&&m?m=clearTimeout(m):m||e===w||(m=setTimeout(h,e)),o&&(r=!0,d=t.apply(v,u)),!r||m||p||(u=v=void 0),d}var u,p,d,b,v,m,g,y=0,w=!1,x=!0;if("function"!=typeof t)throw new TypeError(a);if(e=0>e?0:+e||0,o===!0){var k=!0;x=!1}else r(o)&&(k=!!o.leading,w="maxWait"in o&&s(+o.maxWait||0,e),x="trailing"in o?!!o.trailing:x);return f.cancel=n,f}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var i=o(45),a="Expected a function",s=Math.max,h=i(Date,"now"),c=h||function(){return(new Date).getTime()};t.exports=n},168:function(t,e,o){var n;(function(t,r){!function(i){function a(t){throw RangeError(_[t])}function s(t,e){for(var o=t.length,n=[];o--;)n[o]=e(t[o]);return n}function h(t,e){var o=t.split("@"),n="";o.length>1&&(n=o[0]+"@",t=o[1]),t=t.replace(j,".");var r=t.split("."),i=s(r,e).join(".");return n+i}function c(t){for(var e,o,n=[],r=0,i=t.length;i>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&i>r?(o=t.charCodeAt(r++),56320==(64512&o)?n.push(((1023&e)<<10)+(1023&o)+65536):(n.push(e),r--)):n.push(e);return n}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function f(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:x}function u(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,o){var n=0;for(t=o?W(t/z):t>>1,t+=W(t/e);t>I*A>>1;n+=x)t=W(t/I);return W(n+(I+1)*t/(t+C))}function d(t){var e,o,n,r,i,s,h,c,u,d,b=[],v=t.length,m=0,g=O,y=S;for(o=t.lastIndexOf(E),0>o&&(o=0),n=0;o>n;++n)t.charCodeAt(n)>=128&&a("not-basic"),b.push(t.charCodeAt(n));for(r=o>0?o+1:0;v>r;){for(i=m,s=1,h=x;r>=v&&a("invalid-input"),c=f(t.charCodeAt(r++)),(c>=x||c>W((w-m)/s))&&a("overflow"),m+=c*s,u=y>=h?k:h>=y+A?A:h-y,!(u>c);h+=x)d=x-u,s>W(w/d)&&a("overflow"),s*=d;e=b.length+1,y=p(m-i,e,0==i),W(m/e)>w-g&&a("overflow"),g+=W(m/e),m%=e,b.splice(m++,0,g)}return l(b)}function b(t){var e,o,n,r,i,s,h,l,f,d,b,v,m,g,y,C=[];for(t=c(t),v=t.length,e=O,o=0,i=S,s=0;v>s;++s)b=t[s],128>b&&C.push(M(b));for(n=r=C.length,r&&C.push(E);v>n;){for(h=w,s=0;v>s;++s)b=t[s],b>=e&&h>b&&(h=b);for(m=n+1,h-e>W((w-o)/m)&&a("overflow"),o+=(h-e)*m,e=h,s=0;v>s;++s)if(b=t[s],e>b&&++o>w&&a("overflow"),b==e){for(l=o,f=x;d=i>=f?k:f>=i+A?A:f-i,!(d>l);f+=x)y=l-d,g=x-d,C.push(M(u(d+y%g,0))),l=W(y/g);C.push(M(u(l,0))),i=p(o,m,n==r),o=0,++n}++o,++e}return C.join("")}function v(t){return h(t,function(t){return R.test(t)?d(t.slice(4).toLowerCase()):t})}function m(t){return h(t,function(t){return T.test(t)?"xn--"+b(t):t})}var g=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof r&&r);(g.global===g||g.window===g||g.self===g)&&(i=g);var y,w=2147483647,x=36,k=1,A=26,C=38,z=700,S=72,O=128,E="-",R=/^xn--/,T=/[^\x20-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=x-k,W=Math.floor,M=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:b,toASCII:m,toUnicode:v},n=function(){return y}.call(e,o,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,o(65)(t),function(){return this}())},169:function(t,e){"use strict";function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var h=t.length;s>0&&h>s&&(h=s);for(var c=0;h>c;++c){var l,f,u,p,d=t[c].replace(a,"%20"),b=d.indexOf(n);b>=0?(l=d.substr(0,b),f=d.substr(b+1)):(l=d,f=""),u=decodeURIComponent(l),p=decodeURIComponent(f),o(i,u)?Array.isArray(i[u])?i[u].push(p):i[u]=[i[u],p]:i[u]=p}return i}},170:function(t,e){"use strict";var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var i=encodeURIComponent(o(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return i+encodeURIComponent(o(t))}).join(e):i+encodeURIComponent(o(t[r]))}).join(e):r?encodeURIComponent(o(r))+n+encodeURIComponent(o(t)):""}},171:function(t,e,o){"use strict";e.decode=e.parse=o(169),e.encode=e.stringify=o(170)},228:function(t,e,o){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,o){if(t&&c(t)&&t instanceof n)return t;var r=new n;return r.parse(t,e,o),r}function i(t){return h(t)&&(t=r(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return r(t,!1,!0).resolve(e)}function s(t,e){return t?r(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function f(t){return null==t}var u=o(168);e.parse=r,e.resolve=a,e.resolveObject=s,e.format=i,e.Url=n;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,b=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(b),m=["'"].concat(v),g=["%","/","?",";","#"].concat(m),y=["/","?","#"],w=255,x=/^[a-z0-9A-Z_-]{0,63}$/,k=/^([a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=o(171);n.prototype.parse=function(t,e,o){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var r=p.exec(n);if(r){r=r[0];var i=r.toLowerCase();this.protocol=i,n=n.substr(r.length)}if(o||r||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===n.substr(0,2);!a||r&&C[r]||(n=n.substr(2),this.slashes=!0)}if(!C[r]&&(a||r&&!z[r])){for(var s=-1,c=0;c<y.length;c++){var l=n.indexOf(y[c]);-1!==l&&(-1===s||s>l)&&(s=l)}var f,d;d=-1===s?n.lastIndexOf("@"):n.lastIndexOf("@",s),-1!==d&&(f=n.slice(0,d),n=n.slice(d+1),this.auth=decodeURIComponent(f)),s=-1;for(var c=0;c<g.length;c++){var l=n.indexOf(g[c]);-1!==l&&(-1===s||s>l)&&(s=l)}-1===s&&(s=n.length),this.host=n.slice(0,s),n=n.slice(s),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var v=this.hostname.split(/\./),c=0,O=v.length;O>c;c++){var E=v[c];if(E&&!E.match(x)){for(var R="",T=0,j=E.length;j>T;T++)R+=E.charCodeAt(T)>127?"x":E[T];if(!R.match(x)){var _=v.slice(0,c),I=v.slice(c+1),W=E.match(k);W&&(_.push(W[1]),I.unshift(W[2])),I.length&&(n="/"+I.join(".")+n),this.hostname=_.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!b){for(var M=this.hostname.split("."),L=[],c=0;c<M.length;++c){var q=M[c];L.push(q.match(/[^A-Za-z0-9_-]/)?"xn--"+u.encode(q):q)}this.hostname=L.join(".")}var B=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+B,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!A[i])for(var c=0,O=m.length;O>c;c++){var F=m[c],P=encodeURIComponent(F);P===F&&(P=escape(F)),n=n.split(F).join(P)}var U=n.indexOf("#");-1!==U&&(this.hash=n.substr(U),n=n.slice(0,U));var J=n.indexOf("?");if(-1!==J?(this.search=n.substr(J),this.query=n.substr(J+1),e&&(this.query=S.parse(this.query)),n=n.slice(0,J)):e&&(this.search="",this.query={}),n&&(this.pathname=n),z[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",q=this.search||"";this.path=B+q}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",o=this.pathname||"",n=this.hash||"",r=!1,i="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(i=S.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||z[e])&&r!==!1?(r="//"+(r||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),o=o.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+r+o+a+n},n.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h(t)){var e=new n;e.parse(t,!1,!0),t=e}var o=new n;if(Object.keys(this).forEach(function(t){o[t]=this[t]},this),o.hash=t.hash,""===t.href)return o.href=o.format(),o;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(o[e]=t[e])}),z[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o;if(t.protocol&&t.protocol!==o.protocol){if(!z[t.protocol])return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.href=o.format(),o;if(o.protocol=t.protocol,t.host||C[t.protocol])o.pathname=t.pathname;else{for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),o.pathname=r.join("/")}if(o.search=t.search,o.query=t.query,o.host=t.host||"",o.auth=t.auth,o.hostname=t.hostname||t.host,o.port=t.port,o.pathname||o.search){var i=o.pathname||"",a=o.search||"";o.path=i+a}return o.slashes=o.slashes||t.slashes,o.href=o.format(),o}var s=o.pathname&&"/"===o.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),u=c||s||o.host&&t.pathname,p=u,d=o.pathname&&o.pathname.split("/")||[],r=t.pathname&&t.pathname.split("/")||[],b=o.protocol&&!z[o.protocol];if(b&&(o.hostname="",o.port=null,o.host&&(""===d[0]?d[0]=o.host:d.unshift(o.host)),o.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),u=u&&(""===r[0]||""===d[0])),c)o.host=t.host||""===t.host?t.host:o.host,o.hostname=t.hostname||""===t.hostname?t.hostname:o.hostname,o.search=t.search,o.query=t.query,d=r;else if(r.length)d||(d=[]),d.pop(),d=d.concat(r),o.search=t.search,o.query=t.query;else if(!f(t.search)){if(b){o.hostname=o.host=d.shift();var v=o.host&&o.host.indexOf("@")>0?o.host.split("@"):!1;v&&(o.auth=v.shift(),o.host=o.hostname=v.shift())}return o.search=t.search,o.query=t.query,l(o.pathname)&&l(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!d.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var m=d.slice(-1)[0],g=(o.host||t.host)&&("."===m||".."===m)||""===m,y=0,w=d.length;w>=0;w--)m=d[w],"."==m?d.splice(w,1):".."===m?(d.splice(w,1),y++):y&&(d.splice(w,1),y--);if(!u&&!p)for(;y--;y)d.unshift("..");!u||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),g&&"/"!==d.join("/").substr(-1)&&d.push("");var x=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(b){o.hostname=o.host=x?"":d.length?d.shift():"";var v=o.host&&o.host.indexOf("@")>0?o.host.split("@"):!1;v&&(o.auth=v.shift(),o.host=o.hostname=v.shift())}return u=u||o.host&&d.length,u&&!x&&d.unshift(""),d.length?o.pathname=d.join("/"):(o.pathname=null,o.path=null),l(o.pathname)&&l(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=t.auth||o.auth,o.slashes=o.slashes||t.slashes,o.href=o.format(),o},n.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}}});

        } // end of zapla
      };

    } // end of bookingService function
//   .directive('script', function($parse, $rootScope, $compile) {
//     return {
//         restrict: 'E',
//         terminal: true,
//         link: function(scope, element, attr) {
//             if (attr.ngSrc) {
//                  var domElem = '<script src="'+attr.ngSrc+'" async defer></script>';
//                 element.append($compile(domElem)(scope));
//             }
//         }
//     };
// });
